Formal development of quantum error-correction